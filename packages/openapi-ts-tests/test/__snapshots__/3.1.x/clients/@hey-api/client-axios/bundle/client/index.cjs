'use strict';var L=require('axios');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var L__default=/*#__PURE__*/_interopDefault(L);var w=async(t,r)=>{let e=typeof r=="function"?await r(t):r;if(e)return t.scheme==="bearer"?`Bearer ${e}`:t.scheme==="basic"?`Basic ${btoa(e)}`:e},O=(t,r,e)=>{typeof e=="string"||e instanceof Blob?t.append(r,e):t.append(r,JSON.stringify(e));},z=(t,r,e)=>{typeof e=="string"?t.append(r,e):t.append(r,JSON.stringify(e));},R={bodySerializer:t=>{let r=new FormData;return Object.entries(t).forEach(([e,s])=>{s!=null&&(Array.isArray(s)?s.forEach(i=>O(r,e,i)):O(r,e,s));}),r}},$={bodySerializer:t=>JSON.stringify(t,(r,e)=>typeof e=="bigint"?e.toString():e)},q={bodySerializer:t=>{let r=new URLSearchParams;return Object.entries(t).forEach(([e,s])=>{s!=null&&(Array.isArray(s)?s.forEach(i=>z(r,e,i)):z(r,e,s));}),r.toString()}},P={$body_:"body",$headers_:"headers",$path_:"path",$query_:"query"},v=Object.entries(P),A=(t,r)=>{r||(r=new Map);for(let e of t)"in"in e?e.key&&r.set(e.key,{in:e.in,map:e.map}):e.args&&A(e.args,r);return r},T=t=>{for(let[r,e]of Object.entries(t))e&&typeof e=="object"&&!Object.keys(e).length&&delete t[r];},E=(t,r)=>{let e={body:{},headers:{},path:{},query:{}},s=A(r),i;for(let[l,o]of t.entries())if(r[l]&&(i=r[l]),!!i)if("in"in i)if(i.key){let n=s.get(i.key),a=n.map||i.key;e[n.in][a]=o;}else e.body=o;else for(let[n,a]of Object.entries(o??{})){let u=s.get(n);if(u){let c=u.map||n;e[u.in][c]=a;}else {let c=v.find(([f])=>n.startsWith(f));if(c){let[f,d]=c;e[d][n.slice(f.length)]=a;}else for(let[f,d]of Object.entries(i.allowExtra??{}))if(d){e[f][n]=a;break}}}return T(e),e},U=t=>{switch(t){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},D=t=>{switch(t){case "form":return ",";case "pipeDelimited":return "|";case "spaceDelimited":return "%20";default:return ","}},H=t=>{switch(t){case "label":return ".";case "matrix":return ";";case "simple":return ",";default:return "&"}},m=({allowReserved:t,explode:r,name:e,style:s,value:i})=>{if(!r){let n=(t?i:i.map(a=>encodeURIComponent(a))).join(D(s));switch(s){case "label":return `.${n}`;case "matrix":return `;${e}=${n}`;case "simple":return n;default:return `${e}=${n}`}}let l=U(s),o=i.map(n=>s==="label"||s==="simple"?t?n:encodeURIComponent(n):p({allowReserved:t,name:e,value:n})).join(l);return s==="label"||s==="matrix"?l+o:o},p=({allowReserved:t,name:r,value:e})=>{if(e==null)return "";if(typeof e=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return `${r}=${t?e:encodeURIComponent(e)}`},g=({allowReserved:t,explode:r,name:e,style:s,value:i})=>{if(i instanceof Date)return `${e}=${i.toISOString()}`;if(s!=="deepObject"&&!r){let n=[];Object.entries(i).forEach(([u,c])=>{n=[...n,u,t?c:encodeURIComponent(c)];});let a=n.join(",");switch(s){case "form":return `${e}=${a}`;case "label":return `.${a}`;case "matrix":return `;${e}=${a}`;default:return a}}let l=H(s),o=Object.entries(i).map(([n,a])=>p({allowReserved:t,name:s==="deepObject"?`${e}[${n}]`:n,value:a})).join(l);return s==="label"||s==="matrix"?l+o:o};var B=/\{[^{}]+\}/g,W=({path:t,url:r})=>{let e=r,s=r.match(B);if(s)for(let i of s){let l=false,o=i.substring(1,i.length-1),n="simple";o.endsWith("*")&&(l=true,o=o.substring(0,o.length-1)),o.startsWith(".")?(o=o.substring(1),n="label"):o.startsWith(";")&&(o=o.substring(1),n="matrix");let a=t[o];if(a==null)continue;if(Array.isArray(a)){e=e.replace(i,m({explode:l,name:o,style:n,value:a}));continue}if(typeof a=="object"){e=e.replace(i,g({explode:l,name:o,style:n,value:a}));continue}if(n==="matrix"){e=e.replace(i,`;${p({name:o,value:a})}`);continue}let u=encodeURIComponent(n==="label"?`.${a}`:a);e=e.replace(i,u);}return e},I=({allowReserved:t,array:r,object:e}={})=>i=>{let l=[];if(i&&typeof i=="object")for(let o in i){let n=i[o];if(n!=null)if(Array.isArray(n)){let a=m({allowReserved:t,explode:true,name:o,style:"form",value:n,...r});a&&l.push(a);}else if(typeof n=="object"){let a=g({allowReserved:t,explode:true,name:o,style:"deepObject",value:n,...e});a&&l.push(a);}else {let a=p({allowReserved:t,name:o,value:n});a&&l.push(a);}}return l.join("&")},j=async({security:t,...r})=>{for(let e of t){let s=await w(e,r.auth);if(!s)continue;let i=e.name??"Authorization";switch(e.in){case "query":r.query||(r.query={}),r.query[i]=s;break;case "cookie":{let l=`${i}=${s}`;"Cookie"in r.headers&&r.headers.Cookie?r.headers.Cookie=`${r.headers.Cookie}; ${l}`:r.headers.Cookie=l;break}case "header":default:r.headers[i]=s;break}return}},b=t=>N({path:t.path,query:t.paramsSerializer?void 0:t.query,querySerializer:typeof t.querySerializer=="function"?t.querySerializer:I(t.querySerializer),url:t.url}),N=({path:t,query:r,querySerializer:e,url:s})=>{let l=s.startsWith("/")?s:`/${s}`;t&&(l=W({path:t,url:l}));let o=r?e(r):"";return o.startsWith("?")&&(o=o.substring(1)),o&&(l+=`?${o}`),l},C=(t,r)=>{let e={...t,...r};return e.headers=h(t.headers,r.headers),e},Q=["common","delete","get","head","patch","post","put"],h=(...t)=>{let r={};for(let e of t){if(!e||typeof e!="object")continue;let s=Object.entries(e);for(let[i,l]of s)if(Q.includes(i)&&typeof l=="object")r[i]={...r[i],...l};else if(l===null)delete r[i];else if(Array.isArray(l))for(let o of l)r[i]=[...r[i]??[],o];else l!==void 0&&(r[i]=typeof l=="object"?JSON.stringify(l):l);}return r},S=(t={})=>({...t});var _=(t={})=>{let r=C(S(),t),{auth:e,...s}=r,i=L__default.default.create(s),l=()=>({...r}),o=a=>(r=C(r,a),i.defaults={...i.defaults,...r,headers:h(i.defaults.headers,r.headers)},l()),n=async a=>{let u={...r,...a,axios:a.axios??r.axios??i,headers:h(r.headers,a.headers)};u.security&&await j({...u,security:u.security}),u.body&&u.bodySerializer&&(u.body=u.bodySerializer(u.body));let c=b(u);try{let f=u.axios,{auth:d,...k}=u,x=await f({...k,baseURL:u.baseURL,data:u.body,headers:u.headers,params:u.paramsSerializer?u.query:void 0,url:c}),{data:y}=x;return u.responseType==="json"&&(u.responseValidator&&await u.responseValidator(y),u.responseTransformer&&(y=await u.responseTransformer(y))),{...x,data:y??{}}}catch(f){let d=f;if(u.throwOnError)throw d;return d.error=d.response?.data??{},d}};return {buildUrl:b,delete:a=>n({...a,method:"DELETE"}),get:a=>n({...a,method:"GET"}),getConfig:l,head:a=>n({...a,method:"HEAD"}),instance:i,options:a=>n({...a,method:"OPTIONS"}),patch:a=>n({...a,method:"PATCH"}),post:a=>n({...a,method:"POST"}),put:a=>n({...a,method:"PUT"}),request:n,setConfig:o}};exports.buildClientParams=E;exports.createClient=_;exports.createConfig=S;exports.formDataBodySerializer=R;exports.jsonBodySerializer=$;exports.urlSearchParamsBodySerializer=q;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map